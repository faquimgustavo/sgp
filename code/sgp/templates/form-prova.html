{% extends "_layouts/base.html" %}
{% block title %}Página Inicial{% endblock %}

{% block conteudo %}
     <form method="POST" enctype="multipart/form-data">{% csrf_token %}
           Nome da prova: <br> {{form.nome}} <br><br>
           Observações: <br>{{form.observacao}} <br><br>
           Cabeçalho:<br> {{form.cabecalho}} <a href="/cadastro_cabecalho/">+</a> <br><br>
           Disciplina: {{form.disciplina}} <br><br>
           Questões <br> {{form.questao}}<br><br>

         <button type="submit">Salvar</button>
     </form>


    {% if questao %}
        <a href="{% url 'deletar_questao' questao.id %}">Deletar</a>
    {% endif %}

    <span id="texto"></span> <br><br>

    {% if prova %}
        <a href="{% url 'deletar_prova' prova.id %}">Deletar Prova</a>
        <a href="{% url 'gerar_prova' prova.id %}">Gerar prova</a>
        <a href="{% url 'gerar_gabarito' prova.id %}">Gerar Gabarito</a>
        <a href="{% url 'vizualiar_prova' prova.id %}">Vizualizar prova</a>
    {% endif %}
{% endblock %}

{% block scripts %}

<script>

var str = document.querySelectorAll('.questoes label');
//console.log(str.length);

for(var i =0; i < str.length; i++){
    var res = str[i].textContent.replace(/(<([^>]+)>)/gi,"");
    //console.log("FILHOS: ",str[i].textContent);
    //console.log(document.querySelectorAll('.questoes label')[i].textContent);
    //document.querySelectorAll('.questoes label')[i].innerHTML = res; // Subistitui até o input, preciso conseguir substituir somente o texto.
}



//var res = str.replace(/(<([^>]+)>)/gi,"");

//document.getElementById("texto").innerHTML = res;

//alert(document.getElementById("questoes").textContent);

</script>

{% endblock %}
